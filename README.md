# Backbone - Freshdesk SKU Usage Collector API PHP Client

## Introduction

The Freshdesk SKU Usage Collector API PHP Client enables you to work with the Freshdesk SKU Usage Collector API.

This PHP package is generated by an API client generator.

## Prerequisites

- PHP 7.2 or later for production

## Installation

You can use [Composer](https://getcomposer.org/). Follow the [installation instructions](https://getcomposer.org/doc/00-intro.md) if you do not already have composer installed.

~~~~ bash
composer require datenkraft/bb-freshdesk-sku-usage-collector-api-php-client
~~~~

In your PHP script, make sure you include the autoloader:

~~~~ php
require 'path/to/vendor/autoload.php';
~~~~

## Using the library

The library can be used to communicate with the Freshdesk SKU Usage Collector Resource Server.
The Client includes functionalities for every endpoint defined in the openapi.json.
The Client also is auto generated with jane-php using an openapi.json file.

### Creating a client

~~~~ php
require 'path/to/vendor/autoload.php';

// Valid clientId, clientSecret and requested scopes
$clientId = '1234';
$clientSecret = 'abcd';
$oAuthScopes = ['ticket:put'];

$config['clientId'] = $clientId;
$config['clientSecret'] = $clientSecret;
$config['oAuthScopes'] = $oAuthScopes;

$factory = new ClientFactory($config);
$client = Client::createWithFactory($factory);
~~~~

### Example Endpoint: Add tickets
~~~~ php
$ticket = (new Ticket())
    ->setTicketId(1)
    ->setStatus("open")
    ->setProduct("p1")
    ->setSource("source")
    ->setCreatedDate(new \DateTime())
    ->setLastUpdatedDate(new \DateTime())
    ->setAgentReplyCount(1)
    ->setTimesReopened(0)
    ;

$tickets = [
    $ticket,
    // tickets can be inserted in bulk
];
$response = $client->putTickets($tickets);
// $response is on success a list of Ticket models, in case of an error an exception or an ErrorResponse object as a fallback 

~~~~

## Licence
This repository is available under the [MIT license](https://opensource.org/licenses/MIT).
